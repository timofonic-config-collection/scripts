#!/bin/sh
# Script by Ypnose  <linuxien[AT]legtux[DOT]org>

if [ "$#" -ne 2 ]; then
	printf "%s\n" "Usage: ${0##*/} <movie_file> <subtitles_file.srt>"
	exit 1
elif [ ! -f "$2" ]; then
	printf "%s\n" "File doesn't exist!" >&2
	exit 1
fi

MOVNAM="${1%.*}"
MOVEXT="${1##*.}"
MOVFIL="${MOVNAM//./-}"
SRTEXT="${2##*.}"

mv "$MOVNAM"."$MOVEXT" "$MOVFIL"."$MOVEXT"

if [ "$SRTEXT" = "srt" ]; then
	mv "$2" "$MOVFIL".srt
	printf "%s\n" "Done"
else
	printf "%s\n" "Wrong file extension!" >&2
	exit 1
fi
exit
