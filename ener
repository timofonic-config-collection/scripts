#!/bin/mksh
#   Script by Ypnose  <linuxien[AT]legtux[DOT]org>

function display_usage {
    print "Usage: ener [-d] [-r]"
    print "  Arguments:"
    print "     -d 	Shutdown the computer"
    print "     -r 	Reboot the computer"
}

if [[ -z $1 || $1 = -h ]]; then
    display_usage
    exit 1
fi

if [[ -n $DISPLAY ]]; then
    print "You must close \e[0;31mXServer\e[0m before launching this command"
    exit 1
fi

case "$1" in
    -d)
      print "Closing in 3 seconds..."
      sleep 3
      sudo shutdown -h now
      ;;
    -r)
      print "Restarting in 3 seconds..."
      sleep 3
      sudo shutdown -r now
      ;;
    ?)
      display_usage
      exit 1
      ;;
esac
exit 0

