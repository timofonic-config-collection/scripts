#!/bin/sh
# Script by Ypnose  <linuxien[AT]legtux[DOT]org>

# VALUE = 254
HDP=$(sudo hdparm -I /dev/sda | awk '/Advanced power/{print $5}')
if [ -x "/sbin/hdparm" ]; then
	if [ "$HDP" = "254" ]; then
		printf "%d\n" "$HDP"
	else
		printf "%d\n" "Value is not 254" >&2
	fi
else
	printf "%s\n" "Hdparm is not installed!" >&2
fi

# VALUE1 = profile | VALUE2 = mid or low
PWM="/sys/class/drm/card0/device/power_method"
PWP="/sys/class/drm/card0/device/power_profile"
if [ -f "$PWM" ]; then
	if [ "$(cat $PWM)" = "profile" ]; then
		cat "$PWM"
	else
		printf "%s\n" "Value is not profile" >&2
	fi
else
	printf "%s\n" "File is missing" >&2
fi
if [ -f "$PWP" ]; then
	if [ "$(cat $PWP)" = "low" ]; then
		cat "$PWP"
	else
		printf "%s\n" "Value is not low" >&2
	fi
else
	printf "%s\n" "File is missing" >&2
fi
exit
